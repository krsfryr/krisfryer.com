@use 'mixins' as m;

// ----------------------------------------------------
// Config: choose which scale is active by default
// You can override this BEFORE importing this file:
//   $heading-scale: $fluid-scale--about;
//   @use 'typography';
$heading-scale: null !default;
// ----------------------------------------------------

// Global Text Styles
$body-font-size:                1.6rem;
$body-font-size-sm:             1.4rem;
$body-font-size-xs:             1.3rem;
$line-height-default:           1.6;
$line-height-default-mobile:    1.4;
$letter-spacing:                -0.01rem;
$headings-text-transform:       initial;

$page-max-width:                144rem;
$content-max-width:             72rem;

// Font weights
$font-weight-light: 300;
$font-weight-regular: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;

// Responsive fluid type settings
$fluid-scale: (
  h1: (min: 3.6rem, max: 6.4rem),
  h2: (min: 2.8rem, max: 4.8rem),
  h3: (min: 2.2rem, max: 3.2rem),
  h4: (min: 1.8rem, max: 2.4rem),
  h5: (min: 1.6rem, max: 2rem),
  h6: (min: 1.5rem, max: 1.8rem),
  body: (min: 1.4rem, max: 1.6rem)
);

$fluid-scale--about: (
  // no h1 on purpose; mixin will fall back to $fluid-scale
  h2: (min: 2.2rem, max: 2.2rem),
  h3: (min: 1.8rem, max: 1.8rem)
);

// If no active choice was set by the importer, default to the main scale
@if $heading-scale == null {
  $heading-scale: $fluid-scale !global;
}

// Utility: fetch a level from a scale with fallback to $fluid-scale
@function _sizes-for($level, $scale) {
  @if map-has-key($scale, $level) {
    @return map-get($scale, $level);
  }
  @return map-get($fluid-scale, $level);
}

// Utility mixin to apply fluid type from a chosen scale
@mixin fluid-heading($level, $scale: $heading-scale) {
  $sizes: _sizes-for($level, $scale);
  @include m.fluid-type(map-get($sizes, min), map-get($sizes, max));
}

// Optional: scope headings to a different scale inside a container
// Usage: .about-page { @include headings-with-scale($fluid-scale--about); }
@mixin headings-with-scale($scale) {
  h1 { @include fluid-heading(h1, $scale); }
  h2 { @include fluid-heading(h2, $scale); }
  h3 { @include fluid-heading(h3, $scale); }
  h4 { @include fluid-heading(h4, $scale); }
  h5 { @include fluid-heading(h5, $scale); }
  h6 { @include fluid-heading(h6, $scale); }
}

// Headings
%h1 {
  @include fluid-heading(h1);
  line-height: 1.2;
  font-weight: $font-weight-bold;
}

%h2 {
  @include fluid-heading(h2);
  line-height: 1.2;
  font-weight: $font-weight-semibold;
}

%h3 {
  @include fluid-heading(h3);
  line-height: 1.3;
  font-weight: $font-weight-semibold;
}

%h4 {
  @include fluid-heading(h4);
  line-height: 1.4;
  font-weight: $font-weight-medium;
}

%h5 {
  @include fluid-heading(h5);
  line-height: 1.5;
  font-weight: $font-weight-medium;
}

%h6 {
  @include fluid-heading(h6);
  line-height: 1.5;
  font-weight: $font-weight-regular;
}

%h6.img-caption {
  @include fluid-heading(h6);
  line-height: 1.5;
  font-weight: $font-weight-medium;
  font-size: 1.3rem;
}

%body-text {
  @include fluid-heading(body);
  line-height: $line-height-default;
  font-weight: $font-weight-regular;
}

// Titles & Listing sizes
$title-desktop:             2.4rem;
$title-mobile:              1.8rem;
$subtitle:                  2rem;

$listing-title--desktop:    5.6rem;
$listing-title--mobile:     3.6rem;

// About Page
$about-h1-desktop:          2.8rem;
$about-h2-desktop:          2.2rem;
$about-h3-desktop:          1.8rem;

$about-h1-mobile:           4.8rem;
$about-h2-mobile:           2rem;
$about-h3-mobile:           1.8rem;

// Portfolio Listing Page
$listing-h2-desktop:        4.8rem;
$listing-h2-mobile:         2.8rem;

$headings-pre-font-size:    1.6rem;

$card-v2-border-radius:     0.8rem;
$card-v2-padding:           2.4rem;

// Global styles
%heading-h2 { @extend %h2; }
%heading-h3 { @extend %h3; }
